"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[656],{5869:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>a,contentTitle:()=>n,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>h});var s=t(5893),i=t(1151);const r={title:"Bloom Workflow",sidebar_label:"Bloom Workflow",sidebar_position:5,slug:"/how-it-works/bloom-workflow"},n=void 0,l={id:"how-it-works/bloom-workflow",title:"Bloom Workflow",description:"Bloom",source:"@site/docs/how-it-works/06-bloom-workflow.mdx",sourceDirName:"how-it-works",slug:"/how-it-works/bloom-workflow",permalink:"/main/how-it-works/bloom-workflow",draft:!1,unlisted:!1,editUrl:"https://github.com/permissionlessweb/cw-headstash/tree/feat/docusaurus-docs/docs/docs/how-it-works/06-bloom-workflow.mdx",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Bloom Workflow",sidebar_label:"Bloom Workflow",sidebar_position:5,slug:"/how-it-works/bloom-workflow"},sidebar:"docsSidebar",previous:{title:"Headstash Workflow",permalink:"/main/how-it-works/headstash-workflow"}},a={},h=[{value:"Bloom",id:"bloom",level:2},{value:"Solution",id:"solution",level:3},{value:"Bloom Workflow",id:"bloom-workflow",level:2},{value:"1. Register Bloom",id:"1-register-bloom",level:3},{value:"2. Prepare Bloom",id:"2-prepare-bloom",level:3},{value:"3. Process Bloom",id:"3-process-bloom",level:3}];function c(e){const o={h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h2,{id:"bloom",children:"Bloom"}),"\n",(0,s.jsx)(o.p,{children:"Bloom is a workflow for The Headstash Contracts that, if enabled, allows those who have claimed their headstash to redeem and transfer their allocation to one or more wallet address of their choice, in a manner that contributes to the retention of the privacy design.\nBy design, Secret Network has two conceptual software layer, one being public and the other being private. When headstashers claim their allocations, they are claiming tokens that exist in the private layer. They may decide they want to make use of their newly claimed tokens in the public layer. If so, they will be required to redeem the public representation of their allocation. This action of 'transferring' tokens from the private to the public layer often creates an association between the public wallet address that has triggered the action, effectively breaking the privacy design of this contract."}),"\n",(0,s.jsx)(o.h3,{id:"solution",children:"Solution"}),"\n",(0,s.jsx)(o.p,{children:"To remediate this, the bloom workflow enables automating the redemption of these public tokens for users, so that there is little to no association of the recipients of these public tokens with the account that has claimed their headstash!"}),"\n",(0,s.jsx)(o.h2,{id:"bloom-workflow",children:"Bloom Workflow"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.img,{alt:"bloom workflow",src:t(347).Z+"",width:"2716",height:"1836"})}),"\n",(0,s.jsx)(o.h3,{id:"1-register-bloom",children:"1. Register Bloom"}),"\n",(0,s.jsx)(o.p,{children:"Only those who are eligible and have claimed their headstash may register for a bloom. They provide:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"the token they want to bloom"}),"\n",(0,s.jsx)(o.li,{children:"the amount of tokens they want to bloom"}),"\n",(0,s.jsx)(o.li,{children:"the recipients and the amount to send to recipients"}),"\n",(0,s.jsx)(o.li,{children:"the level of randomness they want their transactions to be chosen to process"}),"\n",(0,s.jsx)(o.li,{children:"the minimum time they want their blooms to be processed"}),"\n",(0,s.jsx)(o.li,{children:"the number of their transactions they want to be processed at a time"}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"2-prepare-bloom",children:"2. Prepare Bloom"}),"\n",(0,s.jsx)(o.p,{children:"This second step is only able to be triggered by the contract owner. Once triggered, the contract will:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:"randomly determine one of the memory pools to process registered bloom messages from"}),"\n",(0,s.jsx)(o.li,{children:"redeem the public version of the tokens on behalf of the owner, to The Headstash contract"}),"\n",(0,s.jsx)(o.li,{children:"register the transactions to process"}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"3-process-bloom",children:"3. Process Bloom"}),"\n",(0,s.jsx)(o.p,{children:"The final step is able to be triggered by anyone, and will process the transactions that have been prepared in the previous steps. This will get the public tokens to their destination set by their owner."})]})}function d(e={}){const{wrapper:o}={...(0,i.a)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},347:(e,o,t)=>{t.d(o,{Z:()=>s});const s=t.p+"assets/images/bloom-91409676b196175c55dbba25a27e6008.png"},1151:(e,o,t)=>{t.d(o,{Z:()=>l,a:()=>n});var s=t(7294);const i={},r=s.createContext(i);function n(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function l(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);