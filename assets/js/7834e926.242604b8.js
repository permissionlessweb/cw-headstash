"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[379],{6323:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>d});var a=s(5893),i=s(1151),n=s(7326);const o={title:"Introduction",sidebar_label:"Introduction",sidebar_position:0,slug:"/"},r="Cw-Headstash",c={id:"intro",title:"Introduction",description:"Welcome to the documentation for The Headstash Contracts. This document will guide you through",source:"@site/docs/00-intro.mdx",sourceDirName:".",slug:"/",permalink:"/main/",draft:!1,unlisted:!1,editUrl:"https://github.com/permissionlessweb/cw-headstash/tree/feat/docusaurus-docs/docs/docs/00-intro.mdx",tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Introduction",sidebar_label:"Introduction",sidebar_position:0,slug:"/"},sidebar:"docsSidebar",next:{title:"Overview",permalink:"/main/contract-api/intro"}},l={},d=[{value:"High Level Overview",id:"high-level-overview",level:2},{value:"Cw-ICA-Controller",id:"cw-ica-controller",level:3},{value:"Cw-Headstash",id:"cw-headstash-1",level:3},{value:"Privacy And Verification",id:"privacy-and-verification",level:2},{value:"Secret Networks CosmwasmVM TEE",id:"secret-networks-cosmwasmvm-tee",level:3},{value:"Ephemeral Wallet Use",id:"ephemeral-wallet-use",level:3},{value:"Encrypted FeeGrant API",id:"encrypted-feegrant-api",level:3},{value:"Headstash Dashboard",id:"headstash-dashboard",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h1,{id:"cw-headstash",children:"Cw-Headstash"}),"\n",(0,a.jsx)(n.Z,{type:"concepts"}),"\n",(0,a.jsx)(n.Z,{type:"basics"}),"\n",(0,a.jsxs)(t.p,{children:["Welcome to the documentation for The Headstash Contracts. This document will guide you through\nunderstanding the ",(0,a.jsx)(t.a,{href:"https://github.com/cosmos/ibc/tree/main/spec/app/ics-027-interchain-accounts",children:"ICS-27"}),"\nInterchain Accounts protocol, how to use ",(0,a.jsx)(t.code,{children:"cw-ica-controller"})," to create and manage the headstash contracts on\nany IBC enabled CosmWasm chain."]}),"\n",(0,a.jsx)(t.p,{children:"The CosmWasm ICA Controller is a CosmWasm contract that implements the ICS-27 interchain accounts controller in\npure Rust. It is designed to be used by other CosmWasm contracts to create and manage interchain accounts on\nthe chain where the contract is deployed."}),"\n",(0,a.jsx)(t.p,{children:"The Headstash Contract is also a Cosmwasm contract, that faciliates the registration and authentication of various cryptographic\nsignatures, for the purpose of  newly minted (or existing) tokens."}),"\n",(0,a.jsx)(t.h2,{id:"high-level-overview",children:"High Level Overview"}),"\n",(0,a.jsx)(t.h3,{id:"cw-ica-controller",children:"Cw-ICA-Controller"}),"\n",(0,a.jsxs)(t.p,{children:["The following diagram shows how ",(0,a.jsx)(t.code,{children:"cw-ica-controller"})," works at a high level."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"High Level Overview",src:s(8077).Z+"",width:"1127",height:"441"})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"cw-ica-controller"})," contract code is deployed on a chain that supports IBC CosmWasm. This chain does not need\nto support ICS-27 interchain accounts nor does it need to support any custom IBC bindings. Then when an external\naccount or a contract instantiates a ",(0,a.jsx)(t.code,{children:"cw-ica-controller"})," contract, the contract will initiate the ICS-27 handshake\nwith a chain that supports ICS-27 interchain accounts based on the options provided by the caller."]}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsxs)(t.p,{children:["The counterparty chain need not be a CosmWasm chain. It can be any chain that uses ibc-go and supports ",(0,a.jsx)(t.code,{children:"ICS-27"}),".\nSuch as CosmosHub, Osmosis, etc."]})}),"\n",(0,a.jsxs)(t.p,{children:["Then the rest of the ICS-27 handshake is completed by the relayers automatically. Both the hermes relayer and the\ngo relayer support ",(0,a.jsx)(t.code,{children:"ICS-27"})," interchain accounts. Once the handshake is complete, the ",(0,a.jsx)(t.code,{children:"cw-ica-controller"})," contract\nmakes a callback to the callback contract if one was provided during instantiation."]}),"\n",(0,a.jsx)(t.h3,{id:"cw-headstash-1",children:"Cw-Headstash"}),"\n",(0,a.jsxs)(t.p,{children:["The following diagram shows how ",(0,a.jsx)(t.code,{children:"cw-headstash"})," is deployed at a high level."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"High Level Overview",src:s(2103).Z+"",width:"1280",height:"746"})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"cw-ica-owner"})," and ",(0,a.jsx)(t.code,{children:"cw-glob"})," contracts are also deployed on a chain that supports IBC CosmWasm. These contracts allow this\nchain to deploy the ",(0,a.jsx)(t.code,{children:"cw-headstash"})," and ",(0,a.jsx)(t.code,{children:"snip120u"})," via the ICS-27 handshake. There are 3 main components of the headstash application stack:"]}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Smart Contracts"}),": Two main contracts are used for headstashes: a custom snip20 implementation, and the airdrop distribution contract."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"Web Application"}),": A website that allows users to claim and manage headstashes."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.strong,{children:"FeeGrant API"}),": An API that allows users to register & bypass fees."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"privacy-and-verification",children:"Privacy And Verification"}),"\n",(0,a.jsxs)(t.p,{children:["Each headstash instance starts with a public distribution list. Ethereum or Solana wallets can have a list of snip20 tokens they are eligible for. In order for these eligible wallet to claim their allocation, an offline signature generated from these eligible wallets is required to be provided when claiming the tokens. This signature is expected to ",(0,a.jsx)(t.strong,{children:"have been generated with the content that was signed to include the public wallet address that is claiming the headstash"})," ."]}),"\n",(0,a.jsx)(t.p,{children:"This requirement is how the smart contract is able to verify the ownership of an account when claiming, as the signature will get deconstructed, and assert that the address that is claiming matches the address that was signed to generate the offline signature. This method has been chosen to allow eligible headstashers to decide which wallet to use to claim."}),"\n",(0,a.jsx)(t.h3,{id:"secret-networks-cosmwasmvm-tee",children:"Secret Networks CosmwasmVM TEE"}),"\n",(0,a.jsx)(t.p,{children:"The entire security design of the headstash contract relies on the integrity of Secret Networks secure enclave model for cosmwasm contract read & writes. The public signatures hashes containing the wallet that is to remain private is sent to the contract for verification. In the standard CosmwasmVM, retaining privacy of this would not be possible."}),"\n",(0,a.jsx)(t.h3,{id:"ephemeral-wallet-use",children:"Ephemeral Wallet Use"}),"\n",(0,a.jsx)(t.p,{children:"A major feature of the Web-App is the generation of ephemeral wallets for use of claimng an allocation."}),"\n",(0,a.jsx)(t.h3,{id:"encrypted-feegrant-api",children:"Encrypted FeeGrant API"}),"\n",(0,a.jsx)(t.p,{children:"Generated ephemeral wallets will not be able to cover gas cost when initially created. The FeeGrant API will be able to authorize itself to cover gas cost for ephemeral wallets."}),"\n",(0,a.jsx)(t.h2,{id:"headstash-dashboard",children:"Headstash Dashboard"}),"\n",(0,a.jsx)(t.p,{children:"Headstash Dashboard is an entry point for new users into the Cosmos Ecosystem. Features include a Dashboard UI to claim a headstash distribution they are eligible for, IBC Transfer to and from Secret, a Wrap/Unwrap interface, a list of all active Secret dApps, a link collection to useful secret tools and more."})]})}function p(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},7326:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(7294),i=s(394),n=s(512),o=s(8388);function r(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,o.m6)((0,n.W)(t))}var c=s(5893);const l=i.fC,d=i.xz,h=a.forwardRef(((e,t)=>{let{className:s,align:a="center",sideOffset:n=4,...o}=e;return(0,c.jsx)(i.VY,{ref:t,align:a,sideOffset:n,className:r("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...o})}));h.displayName=i.VY.displayName;const p={concepts:{color:"#54ffe0",label:"Concepts",isBright:!0,description:"Learn about the concepts behind 'cw-ica-controller'"},basics:{color:"#F69900",label:"Basics",isBright:!0,description:"Learn the basics of 'cw-ica-controller'"},"ibc-go":{color:"#ff1717",label:"IBC-Go",description:"This section includes IBC-Go specific content"},cosmjs:{color:"#6836D0",label:"CosmJS",description:"This section includes CosmJS specific content"},cosmwasm:{color:"#05BDFC",label:"CosmWasm",description:"This section includes CosmWasm specific content"},protocol:{color:"#00B067",label:"Protocol",description:"This section includes content about protocol specifcations"},advanced:{color:"#f7f199",label:"Advanced",isBright:!0,description:"The content in this section is for advanced users researching"},developer:{color:"#AABAFF",label:"Developer",isBright:!0,description:"This section includes content for external developers using the 'cw-ica-controller'"},tutorial:{color:"#F46800",label:"Tutorial",description:"This section includes a tutorial"},"guided-coding":{color:"#F24CF4",label:"Guided Coding",description:"This section includes guided coding"}},m=e=>{let{type:t,version:s}=e;const a=p[t]||p["ibc-go"],i=a.description||"";return(0,c.jsxs)(l,{children:[(0,c.jsx)(d,{children:(0,c.jsxs)("span",{style:{backgroundColor:a.color,borderRadius:"2px",color:a.isBright?"black":"white",padding:"0.3rem",marginBottom:"1rem",marginRight:"0.25rem",display:"inline-block"},children:[a.label,s?` ${s}`:""]})}),(0,c.jsx)(h,{children:i})]})}},2103:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s.p+"assets/images/cw-headstash-0dce26530131c86e4e7a658da102a89e.jpg"},8077:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s.p+"assets/images/cw-ica-controller-02461d2650f1678266617056d26d355d.svg"}}]);